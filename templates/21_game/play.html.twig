{% extends 'base.html.twig' %}

{% block title %}Spela 21{% endblock %}

{% block body %}
    <h1>Spelet 21</h1>

    <h2>Din hand:</h2>
    <p>
        {% for card in playerHand %}
            {{ card }}
        {% endfor %}
    </p>

    <p><strong>Poäng:</strong> {{ playerScore }}</p>
    <p><strong>Kort kvar i leken:</strong> {{ remaining }}</p>

    {% if gameOver %}
        <h2>Resultat</h2>
        <p><strong>{{ result }}</strong></p>

        {% if bankHand is defined %}
            <h3>Bankens hand:</h3>
            <ul>
                {% for card in bankHand %}
                    <li>{{ card.getAsString() }}</li>
                {% endfor %}
            </ul>
            <p><strong>Bankens poäng:</strong> {{ bankScore }}</p>
        {% endif %}

        <form action="{{ path('game_reset') }}" method="post">
            <button class="btn btn-primary">Starta om spelet</button>
        </form>
    {% else %}
        <form action="{{ path('game_draw') }}" method="post"">
            <button class="btn btn-success">Dra kort</button>
        </form>

        <form action="{{ path('game_stay') }}" method="post"">
            <button class="btn btn-warning">Stanna</button>
        </form>
    {% endif %}

    <p><a href="{{ path('game_home') }}">Tillbaka till startsidan</a></p>
{% endblock %}
